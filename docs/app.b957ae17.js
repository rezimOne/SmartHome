(function(e){function t(t){for(var n,c,s=t[0],o=t[1],u=t[2],d=0,v=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&v.push(r[c][0]),r[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(v.length)v.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,s=1;s<i.length;s++){var o=i[s];0!==r[o]&&(n=!1)}n&&(a.splice(t--,1),e=c(c.s=i[0]))}return e}var n={},r={app:0},a=[];function c(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=e,c.c=n,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(i,n,function(t){return e[t]}.bind(null,n));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=o;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"18ed":function(e,t,i){"use strict";i("66a6")},"1f6d":function(e,t,i){"use strict";i("bccb")},"2a71":function(e,t,i){},"40b5":function(e,t,i){"use strict";i("2a71")},"5a9c":function(e,t,i){e.exports=i.p+"img/mySmartBulb.1ef109c0.svg"},"66a6":function(e,t,i){},"6e8a":function(e,t,i){},"997a":function(e,t,i){e.exports=i.p+"img/mySmartTemperatureSensor.8ef88b61.svg"},a2d8:function(e,t,i){"use strict";i("f3ef")},bccb:function(e,t,i){},c7bb:function(e,t,i){e.exports=i.p+"img/mySmartOutlet.a9afb568.svg"},cd49:function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("SmartDevice")],1)},a=[],c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"smart-home-wrapper"},[i("MyClock"),i("ul",{staticClass:"device-categories"},e._l(e.deviceTypes,(function(t,n){return i("li",{key:n,on:{click:function(i){return e.devicesByType(t)}}},[i("div",{staticClass:"category-item"},[i("img",{staticClass:"device-img",attrs:{src:e.setSmartDeviceImg(t)}}),i("p",[e._v(e._s(e._f("formatProp")(t)))])])])})),0),i("ul",{staticClass:"smart-devices"},e._l(e.smartDevices,(function(t){return i("li",{key:t.id,staticClass:"smart-device",on:{click:function(i){return e.showDeviceDetailsCard(t)}}},[i("header",[i("img",{attrs:{src:e.setSmartDeviceImg(t.type)}}),i("div",{staticClass:"status-info"},[i("div",[e._v("STATUS: "+e._s(t.isTurnedOn?"ON":"OFF"))]),i("div",{staticClass:"status-indicator",style:{backgroundColor:e.colorByStatus(t)}})])]),i("section",[i("div",{staticClass:"device-name"},[i("p",[e._v(e._s(e._f("formatProp")(t.name)))])]),i("div",{staticClass:"device-connection-state"},[i("p",[e._v(e._s(e._f("formatProp")(t.connectionState)))])])])])})),0),e.isActiveDeviceDetailsCard?i("DeviceDetailsCard",{attrs:{smartDevices:e.smartDevices,deviceDetails:e.deviceDetails,closeDeviceDetailsCard:e.closeDeviceDetailsCard}}):e._e()],1)},s=[],o=i("2909"),u=(i("4de4"),i("d3b7"),i("d81d"),i("07ac"),i("6062"),i("3ca3"),i("ddb0"),i("ac1f"),i("5319"),i("fb6a"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"device-card"},[i("ul",{staticClass:"device-data"},e._l(e.deviceProps,(function(t,n){var r=t[0],a=t[1];return i("li",{key:n},[i("div",{staticClass:"wrapper"},[i("p",{staticClass:"device-prop-name"},[e._v(e._s(e.formatValue(r))+":")]),i("p",{staticClass:"device-prop-value"},[e._v(e._s(e.formatValue(a)))])])])})),0),i("button",{staticClass:"close-button",on:{click:e.closeDeviceDetailsCard}},[i("p",[e._v("+")])]),i("div",{staticClass:"simulation-area"},[i("ToggleSwitch",{on:{change:e.changeCurrentDeviceMode}}),i("div",{staticClass:"state-simulator"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.currentConnectionState,expression:"currentConnectionState"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currentConnectionState=t.target.multiple?i:i[0]}}},e._l(e.connectionStates,(function(t,n){return i("option",{key:n},[e._v(e._s(t))])})),0),i("button",{on:{click:e.setState}},[e._v("Set state")])])],1)])}),l=[],d=(i("99af"),i("4fadc"),i("caad"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"toggle-button",class:{active:e.isActive}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],attrs:{type:"checkbox",disabled:e.disabled},domProps:{checked:Array.isArray(e.checkedValue)?e._i(e.checkedValue,null)>-1:e.checkedValue},on:{change:function(t){var i=e.checkedValue,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,c=e._i(i,a);n.checked?c<0&&(e.checkedValue=i.concat([a])):c>-1&&(e.checkedValue=i.slice(0,c).concat(i.slice(c+1)))}else e.checkedValue=r}}}),i("span",{staticClass:"toggle-switch"})])}),v=[],f={props:{disabled:{type:Boolean,default:!1},labelEnableText:{type:String,default:"On"},labelDisableText:{type:String,default:"Off"},defaultState:{type:Boolean,default:!1}},data:function(){return{currentState:this.defaultState}},watch:{defaultState:function(){this.currentState=Boolean(this.defaultState)}},computed:{isActive:function(){return this.currentState},enableText:function(){return this.labelEnableText},disabledText:function(){return this.labelDisableText},checkedValue:{get:function(){return this.currentState},set:function(e){this.currentState=e,this.$emit("change",e)}}}},p=f,m=(i("18ed"),i("2877")),h=Object(m["a"])(p,d,v,!1,null,"1e50e514",null),g=h.exports,D=i("5014"),b=i.n(D),y={name:"DeviceDetailsCard",components:{ToggleSwitch:g},props:{deviceDetails:{type:Object},smartDevices:{type:Array},closeDeviceDetailsCard:{type:Function}},data:function(){return{currentConnectionState:"",connectionStates:["connected","disconnected","poorConnection"]}},methods:{changeCurrentDeviceMode:function(){var e=this;this.smartDevices&&this.smartDevices.filter((function(t){t["id"]===e.deviceDetails.id&&(e.deviceDetails.isTurnedOn=!e.deviceDetails.isTurnedOn)}))},initInteract:function(e){b()(e).resizable({inertia:!0,edges:{left:!0,right:!0,bottom:!0,top:!0},listeners:{move:function(e){var t=e.target,i=parseFloat(t.getAttribute("data-x"))||0,n=parseFloat(t.getAttribute("data-y"))||0;t.style.width=e.rect.width+"px",t.style.height=e.rect.height+"px",i+=e.deltaRect.left,n+=e.deltaRect.top,t.style.transform="translate("+i+"px,"+n+"px)",t.setAttribute("data-x",i),t.setAttribute("data-y",n)}},modifiers:[b.a.modifiers.restrictEdges({outer:"parent"}),b.a.modifiers.restrictSize({min:{width:200,height:225}})]}).draggable({listeners:{move:this.dragMoveListener,end:this.dragEndListener},inertia:!0,modifiers:[b.a.modifiers.restrictRect({restriction:"parent",endOnly:!0})]})},dragMoveListener:function(e){var t=e.target,i=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,n=(parseFloat(t.getAttribute("data-y"))||0)+e.dy;t.style.transform="translate("+i+"px, "+n+"px)",t.setAttribute("data-x",i),t.setAttribute("data-y",n)},formatValue:function(e){if("string"==typeof e){var t=e.replace(/([a-z0-9])([A-Z])/g,"$1 $2");return t.charAt(0).toUpperCase()+t.slice(1)}return"".concat(e," ").concat(this.devicePropValueUnits)},setState:function(){this.deviceDetails.connectionState=this.currentConnectionState}},computed:{deviceProps:function(){var e=Object.entries(this.deviceDetails).filter((function(e){return!["id","type","name","isTurnedOn"].includes(e[0])}));return e},devicePropValueUnits:function(){return"brightness"===this.deviceProps[1][0]?"%":"powerConsumption"===this.deviceProps[1][0]?"W":"temperature"===this.deviceProps[1][0]?"Â°C":this}},mounted:function(){this.initInteract(".device-card")},beforeDestroy:function(){b()(".device-card").unset()}},S=y,C=(i("1f6d"),Object(m["a"])(S,u,l,!1,null,"6d962a1e",null)),_=C.exports,k=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"clock"},[i("span",{domProps:{textContent:e._s(e.clock.currentTime)}})])},x=[],O={name:"Clock",data:function(){return{clock:{currentTime:"00:00:00",clockInterval:null}}},methods:{setCurrentTime:function(){var e=[(new Date).getHours(),(new Date).getMinutes(),(new Date).getSeconds()],t=e[0],i=e[1],n=e[2];return this.clock.currentTime="".concat(t<10?"0"+t:t," : ").concat(i<10?"0"+i:i," : ").concat(n<10?"0"+n:n),this.clock.currentTime}},mounted:function(){var e=this;this.clock.clockInterval=setInterval((function(){return e.setCurrentTime()}),1e3)}},T=O,w=(i("f120"),Object(m["a"])(T,k,x,!1,null,"07b11582",null)),A=w.exports,I={name:"SmartDevice",components:{DeviceDetailsCard:_,MyClock:A},data:function(){return{smartDevices:[],isActiveDeviceDetailsCard:!1,deviceImages:{bulbImg:i("5a9c"),temperatureSensorImg:i("997a"),outletImg:i("c7bb")},deviceDetails:{}}},methods:{showDeviceDetailsCard:function(e){this.isActiveDeviceDetailsCard=!0,this.deviceDetails=this.$store.getters.getDeviceDetailsById(e)},closeDeviceDetailsCard:function(){this.isActiveDeviceDetailsCard=!1},setSmartDeviceImg:function(e){if(this.deviceTypes)return"bulb"===e?this.deviceImages.bulbImg:"outlet"===e?this.deviceImages.outletImg:"temperatureSensor"===e?this.deviceImages.temperatureSensorImg:this},devicesByType:function(e){this.smartDevices=this.$store.getters.getDevices.filter((function(t){return t["type"]===e})),console.log(this.smartDevices),this.isActiveDeviceDetailsCard=!1},colorByStatus:function(e){return e["isTurnedOn"]?"#60EC83":"#FF0000"},myFun:function(e){console.log(this.$store.getters.getDeviceDetailsById(e).connectionState)}},computed:{deviceTypes:function(){var e=Object.values(this.$store.getters.getDevices).map((function(e){return e["type"]}));return Object(o["a"])(new Set(e))}},filters:{formatProp:function(e){var t=e.replace(/([a-z0-9])([A-Z])/g,"$1 $2");return t.charAt(0).toUpperCase()+t.slice(1)}}},j=I,P=(i("40b5"),Object(m["a"])(j,c,s,!1,null,"75f649e7",null)),$=P.exports,V={name:"App",components:{SmartDevice:$},created:function(){this.$store.dispatch("saveStoreSmartDevices")}},M=V,B=(i("a2d8"),Object(m["a"])(M,r,a,!1,null,"9f8cdc86",null)),E=B.exports,F=i("2f62"),U={mySmartDevices:{}},z=U,L={getDevices:function(e){return e.mySmartDevices},getDeviceDetailsById:function(e){return function(t){return Object.values(e.mySmartDevices).filter((function(e){return e["id"]===t["id"]}))[0]}}},N=L,R={setStoreSmartDevices:function(e,t){return e.mySmartDevices=t},setCurrentDeviceMode:function(e,t){return e.mySmartDevices[t].isTurnedOn=!e.mySmartDevices[t].isTurnedOn}},J=R,Z=i("bc3a"),H=i.n(Z),W={saveStoreSmartDevices:function(e){var t=e.commit;H.a.get("./mockData.json").then((function(e){console.log(e.data.smartDevices),t("setStoreSmartDevices",e.data.smartDevices)})).catch((function(e){return console.log(e)}))},saveCurrentDeviceMode:function(e,t){var i=e.commit;i("setCurrentDeviceMode",t)}},q=W;n["a"].use(F["a"]);var G=new F["a"].Store({state:z,getters:N,mutations:J,actions:q});n["a"].config.productionTip=!1,new n["a"]({store:G,render:function(e){return e(E)}}).$mount("#app")},f120:function(e,t,i){"use strict";i("6e8a")},f3ef:function(e,t,i){}});
//# sourceMappingURL=app.b957ae17.js.map